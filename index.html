<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chúc mừng sinh nhật!</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        background: url("assets/images/bg.jpg") no-repeat center center fixed;
        background-size: cover;
        color: #f5f5dc;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        overflow: hidden;
        perspective: 1000px;
      }

      .container {
        position: relative;
        width: 100vw;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        transform-style: preserve-3d;
        transform: rotateX(var(--rotate-x, 0deg)) rotateY(var(--rotate-y, 0deg));
        transition: transform 0.2s ease;
      }

      .falling-text {
        position: absolute;
        animation: fall 10s linear infinite;
        opacity: 0.9;
        padding: 8px 14px;
        background-color: #ffffff33;
        border-radius: 18px;
        color: #fff;
        font-weight: 500;
        text-shadow: 1px 1px 2px black;
        border: 1px solid #fff;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(4px);
        text-align: center;
        word-wrap: break-word;
      }

      .nowrap {
        white-space: nowrap;
        max-width: 80vw;
      }

      .wrap {
        white-space: normal;
        max-width: 200px;
      }

      @keyframes fall {
        0% {
          top: -10%;
          opacity: 0;
        }
        10% {
          opacity: 1;
        }
        100% {
          top: 110%;
          opacity: 0;
        }
      }

      audio {
        position: absolute;
        bottom: 50px;
        width: 90%;
        max-width: 400px;
      }

      .decor {
        position: absolute;
        width: 50px;
        height: 50px;
        background-size: contain;
        background-repeat: no-repeat;
        opacity: 0.7;
        animation: float 6s ease-in-out infinite;
      }

      .decor:nth-child(odd) {
        animation-duration: 8s;
      }

      @keyframes float {
        0% {
          transform: translateY(0) rotate(0deg);
        }
        50% {
          transform: translateY(-20px) rotate(15deg);
        }
        100% {
          transform: translateY(0) rotate(0deg);
        }
      }
    </style>
  </head>
  <body>
    <div class="container" id="container">
      <!-- Trang trí sinh nhật -->
      <!-- <div
        class="decor"
        style="
          top: 10%;
          left: 10%;
          background-image: url('https://cdn-icons-png.flaticon.com/512/3468/3468373.png');
        "
      ></div>
      <div
        class="decor"
        style="
          top: 20%;
          left: 80%;
          background-image: url('https://cdn-icons-png.flaticon.com/512/4351/4351911.png');
        "
      ></div>
      <div
        class="decor"
        style="
          top: 70%;
          left: 20%;
          background-image: url('https://cdn-icons-png.flaticon.com/512/3468/3468375.png');
        "
      ></div> -->

      <audio autoplay loop>
        <source src="assets/music/bg-music.mp3" type="audio/mpeg" />
        Trình duyệt của bạn không hỗ trợ audio.
      </audio>
    </div>

    <script>
      // Tạo hiệu ứng chữ rơi tự động
      const phrases = [
        "Chúc bạn một ngày thật đẹp!",
        "Thêm tuổi mới, thêm yêu đời!",
        "Luôn mỉm cười nhé!",
        "Hạnh phúc và thành công!",
        "Chúc bạn luôn vui vẻ!",
        "Một năm tuyệt vời đang chờ đón!",
        "Tuổi mới thật rực rỡ nhé!",
      ];

      setInterval(() => {
        const el = document.createElement("div");
        el.className = "falling-text";
        const text = phrases[Math.floor(Math.random() * phrases.length)];
        el.innerText = text;
        el.style.left = Math.random() * 50 + "%";
        el.style.fontSize = Math.random() * 6 + 14 + "px";

        // Nếu câu ngắn hơn 25 ký tự, không xuống dòng
        if (text.length <= 25) {
          el.classList.add("nowrap");
        } else {
          el.classList.add("wrap");
        }

        document.body.appendChild(el);
        setTimeout(() => document.body.removeChild(el), 10000);
      }, 500);

      // Thử phát audio sau tương tác đầu tiên
      window.addEventListener(
        "click",
        () => {
          const audio = document.querySelector("audio");
          if (audio.paused) {
            audio.play().catch((err) => {
              console.log("Tự động phát bị chặn:", err);
            });
          }
        },
        { once: true }
      );
    </script>
  </body>
</html>
